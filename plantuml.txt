@startuml
package "Shared Objects" {
class ZCL_ABAK_SHM_AREA
ZCL_ABAK_SHM_AREA --|> CL_SHM_AREA
ZCL_ABAK_SHM_AREA *.. ZCL_ABAK_SHM_ROOT

class ZCL_ABAK_SHM_ROOT {
  +get_data()
}
}

package "Origins" {
interface ZIF_ABAK_ORIGIN {
  +get()
  +invalidate()
}

ZCL_ABAK_ORIGIN_INLINE ..|> ZIF_ABAK_ORIGIN
ZCL_ABAK_ORIGIN_URL ..|> ZIF_ABAK_ORIGIN
ZCL_ABAK_ORIGIN_SO10 ..|> ZIF_ABAK_ORIGIN
ZCL_ABAK_ORIGIN_SERVER ..|> ZIF_ABAK_ORIGIN

class ZCL_ABAK_ORIGIN_FACTORY {
  +get_instance()
}
ZCL_ABAK_ORIGIN_FACTORY o.. ZCL_ABAK_ORIGIN_INLINE
ZCL_ABAK_ORIGIN_FACTORY o.. ZCL_ABAK_ORIGIN_URL
ZCL_ABAK_ORIGIN_FACTORY o.. ZCL_ABAK_ORIGIN_SO10
ZCL_ABAK_ORIGIN_FACTORY o.. ZCL_ABAK_ORIGIN_SERVER
ZCL_ABAK_ORIGIN_FACTORY ..> ZIF_ABAK_ORIGIN
}

package "Sources" {
interface ZIF_ABAK_SOURCE {
  +get_data()
  +get_name()
  +invalidate()
}

class ZCL_ABAK_SOURCE_XML
ZCL_ABAK_SOURCE_XML ..|> ZIF_ABAK_SOURCE
ZCL_ABAK_SOURCE_XML o.. ZIF_ABAK_ORIGIN

class ZCL_ABAK_SOURCE_DB
ZCL_ABAK_SOURCE_DB ..|> ZIF_ABAK_SOURCE
ZCL_ABAK_SOURCE_DB o.. ZIF_ABAK_ORIGIN

class ZCL_ABAK_SOURCE_SHM
ZCL_ABAK_SOURCE_SHM ..|> ZIF_ABAK_SOURCE
ZCL_ABAK_SOURCE_SHM ..> ZCL_ABAK_SOURCE_FACTORY
ZCL_ABAK_SOURCE_SHM *.. ZCL_ABAK_SHM_AREA
ZCL_ABAK_SOURCE_SHM ..> ZCL_ABAK_SHM_ROOT

class ZCL_ABAK_SOURCE_FACTORY {
  +get_instance()
}
ZCL_ABAK_SOURCE_FACTORY ..> ZIF_ABAK_SOURCE
ZCL_ABAK_SOURCE_FACTORY o.. ZCL_ABAK_SOURCE_DB
ZCL_ABAK_SOURCE_FACTORY o.. ZCL_ABAK_SOURCE_XML
ZCL_ABAK_SOURCE_FACTORY o.. ZCL_ABAK_SOURCE_SHM
ZCL_ABAK_SOURCE_FACTORY *.. ZCL_ABAK_ORIGIN_FACTORY
}

interface ZIF_ABAK_DATA {
  +read()
  +get_name()
  +invalidate()
}

class ZCL_ABAK_DATA
ZCL_ABAK_DATA ..|> ZIF_ABAK_DATA
ZCL_ABAK_DATA o-- ZIF_ABAK_SOURCE

interface ZIF_ABAK {
  +get_value()
  +get_value_if_exists()
  +get_range()
  +get_range_if_exists()
  +check_value()
  +check_value_if_exists()
  +invalidate()
}

class ZCL_ABAK
ZCL_ABAK ..|> ZIF_ABAK
ZCL_ABAK *-- ZCL_ABAK_DATA
ZCL_ABAK o-- ZIF_ABAK_SOURCE

class ZCL_ABAK_FACTORY {
  +get_instance()
}
ZCL_ABAK_FACTORY ..> ZIF_ABAK_SOURCE
ZCL_ABAK_FACTORY o-- ZCL_ABAK_SOURCE_XML
ZCL_ABAK_FACTORY o-- ZCL_ABAK_SOURCE_DB
ZCL_ABAK_FACTORY o-- ZCL_ABAK_SOURCE_SHM
ZCL_ABAK_FACTORY o-- ZCL_ABAK
ZCL_ABAK_FACTORY ..> ZIF_ABAK
@enduml
